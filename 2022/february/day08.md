# 2022.02.08 TIL - Command Pattern

- [2022.02.08 TIL - Command Pattern](#20220208-til---command-pattern)
  - [구성 요소](#구성-요소)
  - [Strategy Pattern과의 차이점](#strategy-pattern과의-차이점)
  - [참고](#참고)

명령 패턴이란 행동의 호출을 객체로 캡슐화하여 클라이언트가 보낸 요청을 나중에 이용할 수 있도록 메서드 이름, 매개변수 등 요청에 필요한 정보를 저장 또는 로깅, 취소할 수 있게 하는 패턴이다.

작업의 결과물이 아닌 동작을 다른 객체에 전달해야하는 경우가 있는데 이때 명령 패턴을 통해 행동을 캡슐화하여 전달할 수 있다. 수행하는 동작을 메서드 형태가 아닌 객체 형태로 별도 생성하여 처리하는 패턴이다.

명령 패턴은 동작을 하나의 객체로 캡슐화하여 행위를 실행한다. 실제 작업을 수행하는 객체와 이를 실행하는 객체로 분리하여 설계해야한다.

## 구성 요소

![](https://user-images.githubusercontent.com/30178507/152992792-22598179-c676-4214-a474-0eed158beefc.png)

명령 패턴의 구성은 위와 같다.

Client의 호출을 받는 Command 인터페이스와 Command 구현체, 그리고 Command 구현체는 Receiver를 가지고 정의된 명령을 수행하도록 만든다. Invoker는 다수의 명령 객체를 저장하고 관리하는 역할을 한다.


## Strategy Pattern과의 차이점

명령 패턴과 전략 패턴은 동작에 대해서는 유사함을 가진다. 객체가 수행하는 동작에 대해서 각기 다른 구현 객체를 통해 다른 동작을 가져가도록 한다는 점에서 유사하다.

명령 패턴과 전략 패턴을 다르게 만드는 점은 `Invoker`의 존재가 아닌가 생각이 든다. `Invoker`는 호출한 명령을 다시 이용할 수 있도록 만들어주는 요소이다. 즉, 이전에 이용했던 명령을 나중에 이용할 수 있도록 관련 정보를 가지고 있다는 점이 큰 차이가 아닐까 싶다.

이를 통해 명령 패턴에서는 과거 명령 호출 이력을 확인할 수도 있고 기존에 사용했던 명령을 재활용 하도록 만들 수 있다.

반면 전략 패턴에서는 구현 동작만 수행하기 때문에 이를 과거 수행 이력을 활용할 수는 없다.

따라서 과거 클라이언트의 호출을 재활용할 필요가 있다면 명령 패턴이 유용하다고 생각된다.

## 참고

[커맨드 패턴 wiki](https://ko.wikipedia.org/wiki/%EC%BB%A4%EB%A7%A8%EB%93%9C_%ED%8C%A8%ED%84%B4)

[쉽게 배워 바로 써먹는 디자인 패턴 15장 - 커맨드 패턴](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&barcode=9791162243404)