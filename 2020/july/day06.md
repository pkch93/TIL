# Day06

## 2020.07.06 Monday

#### Table of Contents

* [합성과 유연한 설계](day06.md#합성과_유연한_설계)

## 합성과 유연한 설계

> 아래 내용은 _조영호_님의 오브젝트 11장을 보고 학습한 내용입니다.

상속과 합성은 객체지향 프로그래밍에서 널리 쓰이는 **코드 재사용 기법**이다. 상속은 부모 클래스와 자식 클래스를 연결하여 부모 클래스의 코드를 재사용하는데 집중하는 반면 합성은 전체를 표현하는 객체가 부분을 표현하는 객체를 포함해서 부분 객체의 코드를 재사용한다.

상속에서 부모-자식 간 의존성은 컴파일타임에서 해결되지만 합성은 런타임에 해결된다.

> 상속은 is-a 관계, 반면 합성은 has-a 관계

상속은 부모 클래스의 구현을 자식 클래스가 알아야 하기 때문에 높은 결합도를 가진다. 반면 합성은 구현에 의존하지 않아도 되는 장점을 가진다. 그저 **퍼블릭 인터페이스**만 의존한다. 때문에 보다 결합도를 낮추고 안정적인 코드를 작성할 수 있다. 즉, 상속 관계는 **클래스 사이의 정적인 관계**인 반면 합성 관계는 **객체 사이의 동적인 관계**이다.

코드 작성 시점에 결정한 상속 관계는 변경이 불가능하지만 합성 관계는 실행 시점에 동적으로 변경할 수 있다. 때문에 상속보다 합성이 보다 유연한 코드를 만들 수 있다.

### 믹스인

> 구체적인 코드를 재사용하면서도 낮은 결합도를 유지할 수 있는 방법

믹스인이란 객체를 생성할 때 코드 일부를 클래스 안에 섞에 넣어 재사용하는 기법을 의미한다. 합성이 실행 시점에 객체를 조합하는 재사용 방법이라면 믹스인은 컴파일 시점에 필요한 코드 조각을 조합하는 재사용방법이다.

상속과 비슷해 보이지만 상속이 클래스와 클래스 사이의 관계를 고정시키는 반면 믹스인은 유연하게 관계를 재구성할 수 있도록 만들어준다. 즉, 믹스인은 합성처럼 유연하면서도 상속처럼 쉽게 코드를 재사용하도록 도와준다.

상속이 클래스를 작성하는 단계에서 관계를 고정시키는 반면 믹스인은 적용할 수 있는 범위에 제약을 둘 뿐 실제 어떤 코드에 믹스인 되는 지는 실행 시점에 가서야 알 수 있다. 이점이 상속과 믹스인의 큰 차이이다.

믹스인은 상속 계층 안에서 확장한 클래스보다 더 하위에 위치한다. 다시 말해서 믹스인은 대상 클래스의 자식 클래스처럼 사용될 용도로 만들어지는 것이다. 따라서 믹스인은 추상 서브클래스라고 부르기도 한다. 믹스인은 결론적으로는 슈퍼클래스로부터 상속될 클래스를 명시하는 메커니즘을 표현한다. 따라서 하나의 믹스인은 매우 다양한 클래스를 도출하면서 서로 다른 서브클래스를 이용해 인스턴스화 할 수 있다.

> 자바에서는 구현하기 힘든 개념인 것 같다. 현재 클래스와 상위 extends 클래스 사이에 계층 구조를 선형화 시켜줄 도구가 존재하지 않음. extends는 단일 상속 밖에 되지 않고, implement는 구현이 존재하지 않음. `default가 있긴 하지만,,,`

