# 20.01.18 Saturday - MSA 고민점

### Table of contents

- [MSA 고민점](#MSA_고민점)

1. [왜 다른 시스템의 Table을 내부 시스템에도 사용할까?](#왜_다른_시스템의_Table을_내부_시스템에도_사용할까?)

## MSA 고민점

1. 왜 다른 시스템의 Table을 내부 시스템에도 따로 만들어 관리할까?

MSA를 사용하기 때문에 Aggregate마다 각각의 시스템으로 관리하여 전체 시스템을 별개의 시스템 집합으로 관리할 수 있다. 이 덕분에 각각의 시스템마다 적합한 기술, 스토리지를 사용할 수 있다.

각 시스템에서 각각의 Aggregate마다 별도의 데이터를 관리한다. 따라서 해당 시스템의 데이터가 필요하다면 이 시스템에서 제공하는 API를 통해 데이터를 호출하여 사용해야한다.

그런데 다른 시스템의 Table을 또다시 만들 필요가 있을까? 이미 외부 시스템에 데이터가 있는데 굳이?

이에 대한 고민을 해본 결과 다음과 같은 결과를 얻을 수 있었다. 먼저 네트워크 비용이다. 네트워크로 요청해서 데이터를 호출하는 비용이 테이블을 추가로 만들어 사용하는 것보다 크기 때문이 아닐까라는 단순한 생각이었다.

두번째가 주된 이유일텐데 바로 Boundary Context 개념이다. 각 도메인은 Boundary Context에 따라 다른 의미를 갖는다. 때문에 해당 시스템에서 제공하는 모든 데이터를 해당 Boundary Context에 맞게 적용할 필요가 있다.

단, 이런 고민이 있다. 최신의 데이터는 해당 데이터를 관리하는 시스템에 있을텐데 그럼 테이블에 값이 없다면 해당 데이터를 또다시 부르는 작업이 필요하다. 이 경우 매번 해당 시스템에 API 콜을 하는 것보다 더 효과적일까?

일단 위 고민에 대한 답으로는 좀 더 효과적이지 않나라고 생각한다. 먼저 해당 데이터가 DB에 있다면 API 콜을 줄일 수 있다. 그리고 그 시스템이 가진 컬럼을 해당 Aggregate에 맞게 정의할 수 있으므로 테이블을 따로 만들어주는 것이 더 낫다고 생각한다.